function registerUser() {
  const name = document.getElementById("name").value.trim();
  const contact = document.getElementById("contact").value.trim();
  const password = document.getElementById("password").value.trim();

  if (!name || !contact) {
    alert("Please fill in your name and contact number.");
    return;
  }

  const urlParams = new URLSearchParams(window.location.search);
  const referrerCode = urlParams.get("ref");

  const referralCode = "ZV-" + Math.floor(100000 + Math.random() * 900000);
  const newUser = { name, contact, password, referralCode, referrerCode };

  // Save user + referral data
  localStorage.setItem("zenivault_user", JSON.stringify(newUser));
  localStorage.setItem("isLoggedIn", "true");

  // Track all users for referral system
  let allUsers = JSON.parse(localStorage.getItem("zenivault_referrals")) || [];
  allUsers.push(newUser);
  localStorage.setItem("zenivault_referrals", JSON.stringify(allUsers));

  alert(`Registration successful!\nYour referral code: ${referralCode}`);
  window.location.href = "dashboard/index.html";
}
